Macintosh Install

Last edited: Mon Jun 22, 2009

If NCID does not work, see INSTALL for some simple tests.
If using sip2ncid, see Setup-ncidsip
If using ncidsip, see Setup-ncidsip

COMPILE:

    - See INSTALL

INSTALL:

	Download the tcl/tk interpreter:
		For Mac system 7 or greater, but not Mac OS X
		- http://www.tcl.tk/software/mac/
		For Mac OS X
		- http://sourceforge.net/project/showfiles.php?group_id=10894

	Install tcl/tk:
		- Run the file downloaded

	Install ncid:
        - The NCID package normally installs in /usr/local:
        - If a binary package is available:
            Copy ncid-VERSION.mac-osx.tgz to the mac, then:
                tar -xzvf ncid-VERSION-mac-osx.tgz -C /
                EXAMPLE: tar -xzvf ncid-0.64.mac-osx.tgz -C /
        - if there is no binary package, you need to compile the source:
            Copy ncid-VERSION-src.tar.gz to the mac, then:
            tar -xzvf ncid-VERSION-src.tar.gz
            cd ncid
            make mac (compiles for /usr/local, see top of Makefile)
            make mac-install

    If you want to use ncidsip:

        - Download, compile, and install the IO-Interface module from CPAN
        - Download, compile, and install the Net-Pcap module from CPAN

CONFIGURE:

    The Makefile preconfigures ncidd.conf for the Mac, but you may
    want to change some of the defaults.

    - If you are using a gateway instead of a local modem,
      you need to set noserial to 1:
        set noserial = 1
    - If you are using a local modem with or without a gateway
        set noserial = 0  (this is the default)

START:

    - start the server and client:
        ncidd
        ncid &
    - Call yourself and see if it works.

TEST USING A MODEM:

    - The easiest way to test the setup is to run ncidd in debug mode,
      it will stay attached to the terminal and not go into deamon mode:
		ncidd -D
    - to get more information, add the verbose flag:
        ncidd -Dv3
    - to also look at the alias structure
        ncidd -Dv5

    - The last three lines will be simular to:
        Modem set for CallerID.
        Network Port: 3333
        Wrote pid 20996 in pidfile: /var/run/ncidd.pid
    - If last line says: ERROR
      try the CID strings in ncidd.conf or in doc/CID-init

    - Call yourself and you should see the CallerID lines.
    - If you only see RING for each ring, the modem does not support
      Caller ID.  You should see the Caller ID lines betreen the
      first and second RING.
    - If you see: /dev/ttyS1: No such file or directory
      you need to set sttyclocal in ncidd.conf

    - At any point, you can use command lines options to vary
      things like modem init and CID init.

	- Once it works, you would normally start it:
        ncidd
        ncid &

TEST USING A DEVICE (like the NetCallerID box):

    Start ncidd then ncid
    Call yourself

    if you have problems, start ncidd in debug mode:
        - ncidd -D
    to get more information, add the verbose flag:
        ncidd -Dv3
    to also look at the alias structure
        ncidd -Dv5
    The last three lines will be simular to:
        CallerID TTY port initialized.
        Network Port: 3333
        Wrote pid 20996 in pidfile: /var/run/ncidd.pid

    Once you solve any problems, restart ncidd normally

TEST USING sip2ncid:

Start (in this order):
    ncidd
    sip2ncid (may need to add options, review Setup-sip2ncid)
    ncid

    Call yourself

    if you have problems, start ncidd in debug mode:
        - ncidd -D
    to get more information, add the verbose flag:
        ncidd -Dv3
    to also look at the alias structure
        ncidd -Dv5
    The last three lines will be simular to:
        CallerID only from CID gateways
        Network Port: 3333
        Wrote pid 20996 in pidfile: /var/run/ncidd.pid

    Once you solve any problems, restart ncidd normally

TEST USING yac2ncid:

    Start (in this order):
        ncidd
        yac2ncid (may need to add options)
        ncid

    Call yourself

    if you have problems, start ncidd in debug mode:
        - ncidd -D
    to get more information, add the verbose flag:
        ncidd -Dv3
    to also look at the alias structure
        ncidd -Dv5
    The last three lines will be simular to:
        CallerID only from CID gateways
        Network Port: 3333
        Wrote pid 20996 in pidfile: /var/run/ncidd.pid

    Once you solve any problems, restart ncidd normally
