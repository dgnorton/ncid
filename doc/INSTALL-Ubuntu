Ubuntu Install

Last edited: Sat Oct 20, 2012

Sections:

    COMPILE:
    INSTALL or UPGRADE:
    CONFIGURE:
    FIRST STARTUP:
    START/STOP/RESTART/RELOAD/STATUS:
    AUTOSTART:

If NCID does not work, see INSTALL for some simple tests.
If using sip2ncid, see Setup-sip2ncid

COMPILE:

    The following packages are required:
    - sudo apt-get install build-essential
    - sudo apt-get install libpcap0.8-dev
    
    See INSTALL for compile instructions

INSTALL or UPGRADE:

    NCID requires the server and client DEB packages to function.  The
    server is required on one computer or device, but the client can be
    installed on as many computers as needed.

    The client has a few output modules in its DEB package, and there
    are optional output modules in their own DEB packages.

    If installing from 3rd Party Repository: GetDeb Apps

    - Add the repository if needed:
      wget -q -O - http://archive.getdeb.net/getdeb-archive.key \
        | sudo apt-key add -
      sudo sh -c \
        'echo "deb http://archive.getdeb.net/ubuntu precise-getdeb apps" \
        >> /etc/apt/sources.list

    - Update the apt cache:
      sudo apt-get update

    - List the available packages:
      sudo apt-cache search ncid

    - Install the server and client:
      sudo apt-get install ncid ncid-client

    - Install any optional output modules wanted:
      sudo apt-get install ncid-<module>

    If the latest source is not available at the repository:

    - Download the latest NCID deb packages from sourceforge
          ncid DEB Package
          ncid-client DEB Package - client and default output modules

    - Download any optional output modules wanted:
          ncid-MODULE DEB Package  - optional client output modules

    - Install or Upgrade the packages:
        * If needed use the the menu item "Add/Remove.." to install the
          GDebi Package Installer.
        * Using the file viewer:
            - Open the file viewer to view the NCID DEB packages
            - Select the DEB packages
            - double click selections or right click selections and select
              "Open with GDebi Package installer"

CONFIGURE:

    The ncidd.conf file is used to configure ncidd.

    - The default modem port in ncidd is /dev/modem.  This is just a
      symbolic link to the real modem port. It is probably best to
      set your modem port in ncidd.conf.  This assumes serial port 1:
        set ttyport = /dev/ttyS0
    - If you are using a SIP or YAC gateway instead of a local modem,
      you need to set noserial to 1:
        set noserial = 1
    - If you are using a local modem with or without a SIP or YAC gateway:
        set noserial = 0  (this is the default)

FIRST STARTUP:

    - if you are running the server and client on the same computer
      and using a modem:
        sudo invoke-rc.d ncidd start
        ncid &

    - If you are running the server and using a SIP gateway:
        sudo invoke-rc.d ncidd start
        sudo invoke-rc.d sip2ncid start
        ncid &

    - If you are running the server and using a YAC gateway:
        sudo invoke-rc.d ncidd start
        sudo invoke-rc.d yac2ncid start
        ncid &

    - Call yourself and see if it works, if not, stop the gateway used:
        sudo invoke-rc.d sip2ncid stop
      stop the server:
        sudo invoke-rc.d ncidd stop
      and continue reading the test sections.

    - If everything is OK, enable the NCID server, gateways, and
      client modules, your are using, to autostart at boot.  The
      GUI ncid client must be started after login, not boot

    NOTE: ncid normally starts in the GUI mode and there is no
          ncid.init script to start or stop it.  There are rc.init
          scripts for starting ncid with output modules, for
          example: ncid-page, ncid-kpopup, etc.

START/STOP/STATUS:

    Use the invoke-rc.d command to start any of the daemons.  The invoke-rc.d
    commands are: start, stop, restart, reload, and status.  The client
    can also be started using the output module name instead of ncid.
    All output modules can be run at the same time.

    Here are some examples:
    - start the NCID server: sudo invoke-rc.d ncidd start
    - stop the ncid2sip server: sudo invoke-rc.d sip2ncid stop
    - reload the server alias file: sudo invoke-rc.d ncidd reload
    - start ncid with ncid-page: sudo invoke-rc.d ncid-page start
    - status of ncid with ncid-speak: sudo invoke-rc.d ncid-speak status

    Review the man page (man invoke-rc.d).

AUTOSTART:

    Use the update-rc.d command to install/remove the service at boot.

    Here are some examples:
    - start ncidd at boot: sudo update-rc.d ncidd defaults
    - start ncid-page at boot: sudo update-rc.d ncid-page defaults

    Review the man page (man update-rc.d).
