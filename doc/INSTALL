NCID - Network Caller ID Install

Last edited: Sun Nov 1, 2009

If using sip2ncid, see Setup-ncidsip
If using ncidsip, see Setup-ncidsip

Layout:
	The programs go into $prefix/bin $prefix/sbin
	The config file goes into $prefix2/etc
	The modem link or driver is expected in $prefix3/dev
	The LOG file is expected in $prefix3/var/log
	The man pages go into $MAN, which is $prefix/share/man
	The default is prefix=/usr/local, prefix2=$prefix, prefix3=

    Fedora:
	The init scripts go into $prefix2/etc/rc.d/init.d

    Debian or Ubuntu:
	The init scripts go into $prefix2/etc/init.d

    FreeBSD:
    The rc scripts go into $prefix2/etc/rc.d

Compile:

    The libpcap library and header files must be installed
    to compile the sip2ncid gateway.

    Obtain libpcap from from http://www.tcpdump.org/ or
    the package depository of your Linux distribution.
    For example, if your distribution uses yum try:
    yum install libpcap libpcap-devel

	To configure programs and config file for /usr/local:
		- make local

	To configure for programs for /usr, and the config file for /etc:
		- make package

	To cross-compile for the TiVo:
		- make tivo-s1 (requires TiVo PPC cross-development:
          /usr/local/tivo
		- make tivo-s2 (requires TiVo MIPS cross-development:
          uses $(MIPSXCOMPILE) prefix

    Note: The Makefile requires GNU make
          See the top of the Makefile for more information on targets.

INSTALL:

	To install in /usr/local (man pages go into /usr/local/share/man):
		- make install

	To install in /usr/local (man pages go into /usr/local/man):
		- make install MAN=/usr/local/man

	To install programs in /usr, config file in /etc,
		and man pages in /usr/share/man:
        - make package-install
        This also works:
		- make install prefix=/usr prefix2=

    Note: See the top of the Makefile for more information on targets.

TEST USING A MODEM:

    Start (in this order):
	    ncidd
        ncid

	Call yourself

	if you have problems, start ncidd in debug mode:
		- ncidd -D
    to get more information, add the verbose flag:
        ncidd -Dv3
    to also look at the alias structure
        ncidd -Dv5
    The last three lines will be simular to:
        Modem set for CallerID.
        Network Port: 3333
        Wrote pid 20996 in pidfile: /var/run/ncidd.pid

    if ncidd aborts when you call yourself with something like:
        Modem set for CallerID.
        Modem Error Condition. (Phone rang here)
        /dev/ttyS1: No such file or directory
    You need to set ncidd to ignore modem signals.
    Uncomment the following line in ncidd.conf:
        # set sttyclocal = 1

    If you only see RING for each ring, the modem does not support
    Caller ID.  You should see the Caller ID lines betreen the
    first and second RING.

	Once you solve the problems, restart ncidd normally

TEST USING A DEVICE (like the NetCallerID box):

    Start (in this order):
	    ncidd
        ncid

	Call yourself

	if you have problems, start ncidd in debug mode:
		- ncidd -D
    to get more information, add the verbose flag:
        ncidd -Dv3
    to also look at the alias structure
        ncidd -Dv5
    The last three lines will be simular to:
        CallerID TTY port initialized.
        Network Port: 3333
        Wrote pid 20996 in pidfile: /var/run/ncidd.pid

	Once you solve any problems, restart ncidd normally

TEST USING sip2ncid:

    Start (in this order):
	    ncidd
        sip2ncid (may need to add options, review Setup-sip2ncid)
        ncid

	Call yourself

	if you have problems, start ncidd in debug mode:
		- ncidd -D
    to get more information, add the verbose flag:
        ncidd -Dv3
    to also look at the alias structure
        ncidd -Dv5
    The last three lines will be simular to:
        CallerID only from CID gateways
        Network Port: 3333
        Wrote pid 20996 in pidfile: /var/run/ncidd.pid

	Once you solve any problems, restart ncidd normally

TEST USING yac2ncid:

    Start (in this order):
	    ncidd
        yac2ncid (may need to add options)
        ncid

	Call yourself

	if you have problems, start ncidd in debug mode:
		- ncidd -D
    to get more information, add the verbose flag:
        ncidd -Dv3
    to also look at the alias structure
        ncidd -Dv5
    The last three lines will be simular to:
        CallerID only from CID gateways
        Network Port: 3333
        Wrote pid 20996 in pidfile: /var/run/ncidd.pid

Once you solve any problems, restart ncidd normally
