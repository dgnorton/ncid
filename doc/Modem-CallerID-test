# Modem Caller ID Test
# Thu May 5, 2011

Start ncidd in debug mode with verbose level 3:
You do not need to start any client.

  ncidd -Dv3

You should get something similar to (the important part is the last line):

  Started: 05/04/2011 21:48:14
  Server: ncidd (NCID) 0.81.15
  logfile: /var/log/ncidd.log
  Command line: ncidd
                -Dv3
  Processed config file: /etc/ncid/ncidd.conf
  Verbose level: 3
  Configured to send 'cidlog' to clients.
  Configured to send 'cidinfo' to clients.
  Processed alias file: /etc/ncid/ncidd.alias
  Leading 1 from a call required in an alias definition
  CID logfile: /var/log/cidcall.log
  CID logfile maximum size: 110000 bytes
  Data logfile: /var/log/ciddata.log
  Telephone Line Identifier: -
  TTY port opened: /dev/ttyACM0
  TTY port speed: 19200
  TTY lock file: /var/lock/lockdev/LCK..ttyACM0
  TTY port control signals enabled
  CallerID from AT Modem and optional gateways
  Handles modem calls without Caller ID
  Sent Modem 20 of 20 characters:
  AT Z S0=0 E1 V1 Q0
  Modem response: 26 characters in 1 read:
  AT Z S0=0 E1 V1 Q0
  OK
  Try 1 to init modem: return = 0.
  Modem initialized.
  Sent Modem 11 of 11 characters:
  AT+VCID=1
  Modem response: 17 characters in 1 read:
  AT+VCID=1
  OK
  Modem set for CallerID.
  Network Port: 3333
  Debug Mode
  Not using PID file, there was no '-P' option.
  Modem is fd 4

If you started a client, you will get a line something like:

  Client 6 from 127.0.0.1 connected, sent call log: /var/log/cidcall.log

Next, call yourself, and you should see something like:

  RING
  CIDINFO: *LINE*VOIP*RING*1*TIME*21:49:49*
  DATE = 0504
  TIME = 2149
  NMBR = 4072215191
  NAME = Chmielewski Joh
  CID: *DATE*05042011*TIME*2149*LINE*VOIP*NMBR*4075551212*MESG*NONE*NAME*John*
  RING
  CIDINFO: *LINE*VOIP*RING*2*TIME*21:49:55*

Hangup the phone, and a second or two later:

  CIDINFO: *LINE*VOIP*RING*0*TIME*21:50:02*

Do a <CTRL C> to break out and end the test:

  ^CReceived Signal 2: Interrupt
  Terminated: 05/04/2011 21:53:30

If your modem does not support CID  or you are using a modem that needs
to be configured for the CID system it is on, ncidd will generate a CID
line on ring 2 to indicate "No Caller ID" by setting the number to "RING"
and the name to "No Caller ID".  You will get something like:

  RING
  CIDINFO: *LINE*VOIP*RING*1*TIME*21:53:02*
  RING
  CIDINFO: *LINE*VOIP*RING*2*TIME*21:53:08*
  CID: *DATE*05042011*TIME*2153*LINE*VOIP*NMBR*RING*MESG*NONE*NAME*No Caller ID*
  RING
  CIDINFO: *LINE*VOIP*RING*3*TIME*21:53:14*

If ncidd is configured to not generate a CID line for No Caller ID, you
will get something like:

  RING
  CIDINFO: *LINE*VOIP*RING*1*TIME*21:53:02*
  RING
  CIDINFO: *LINE*VOIP*RING*2*TIME*21:53:08*
  RING
  CIDINFO: *LINE*VOIP*RING*3*TIME*21:53:14*

Hangup the phone and a second or two later

  CIDINFO: *LINE*VOIP*RING*0*TIME*21:53:21*

Do a <CTRL C> to break out and end the test.

  ^CReceived Signal 2: Interrupt
  Terminated: 05/04/2011 21:53:30
